@model Pagination

<!-- pager -->
@if (Model.Pager.EndPage > 1)
{
    <ul class="pagination justify-content-center">
        @*@if (Model.CurrentPage > 1)
            {
                <li>
                    <a asp-action="Index">اول</a>
                </li>
                <li>
                    <a asp-action="Index"  asp-route-page="@(Model.CurrentPage - 1)">قبلی</a>
                </li>
            }*@


        @for (int page = Model.Pager.StartPage; page <= Model.Pager.EndPage; page++)
        {
            <li class="@(page == Model.Pager.CurrentPage ? "active" : "") px-1">
                @{
                    int p = page;
                    var newDic = new Dictionary<string, string>();
                    foreach (var kvp in Model.Params)
                    {
                        newDic.Add(kvp.Key, kvp.Value);
                    }
                    newDic.Add("page", p.ToString());
                }
                <a asp-action="Index" asp-all-route-data="@newDic">@p</a>
            </li>
        }

        @if (Model.Pager.CurrentPage < Model.Pager.TotalPages && Model.Pager.TotalPages > 10)
        {
            @*<li>
                    <a asp-action="Index" asp-route-page="@(Model.CurrentPage + 1)">بعدی</a>
                </li>*@

            //var newDic = new Dictionary<string, string>();
            //foreach (var kvp in Model.Params)
            //{
            //    newDic.Add(kvp.Key, kvp.Value);
            //}
            //newDic.Add("page", Model.Pager.TotalPages.ToString());

            @*<li>
                    <a asp-action="Index" asp-all-route-data="@newDic">آخر</a>
                </li>*@
        }
    </ul>
}





@*<nav aria-label="paging">
    <ul class="pagination">

        @{
            int pageNumber = (int)ViewData["CurrentPage"];
        }

        @if (Model.TotalPages >= 3)
        {
            bool isNextDotPrinted = false;
            bool isPrevDotPrinted = false;
            for (int i = 1; i <= Model.TotalPages; i++)
            {
                if (i == pageNumber)
                {
                    <li class="page-item active">
                        <a class="page-link" asp-route-pageNumber="@i">@i</a>
                    </li>
                }
                else
                {
                    if (i < Model.TotalPages - 1 && i > pageNumber + 2)
                    {
                        if (!isNextDotPrinted)
                        {
                            <li class="page-item">
                                <a class="page-link" asp-route-pageNumber="@(pageNumber + 1)">...</a>
                            </li>
                            isNextDotPrinted = true;
                        }
                        else
                        {
                            continue;
                        }
                    }
                    else if (i < pageNumber - 2)
                    {
                        if (!isPrevDotPrinted)
                        {
                            <li class="page-item">
                                <a class="page-link" asp-route-pageNumber="1">...</a>
                            </li>
                            isPrevDotPrinted = true;
                        }
                        else
                        {
                            continue;
                        }
                    }
                    else
                    {
                        <li class="page-item">
                            <a class="page-link" asp-route-pageNumber="@i">@i</a>
                        </li>
                    }
                }
            }
        }
        else
        {
            for (int i = 1; i <= Model.TotalPages; i++)
            {
                if (i == pageNumber)
                {
                    <li class="page-item active">
                        <a class="page-link" asp-route-pageNumber="@i">@i</a>
                    </li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link" asp-route-pageNumber="@i">@i</a>
                    </li>
                }
            }
        }

    </ul>
</nav>*@
